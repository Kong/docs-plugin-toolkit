{"fields":[{"consumer":{"type":"foreign","eq":null,"reference":"consumers"}},{"protocols":{"elements":{"one_of":["grpc","grpcs","http","https"],"type":"string"},"required":true,"default":["grpc","grpcs","http","https"],"type":"set"}},{"config":{"fields":[{"issuer":{"type":"string","required":true}},{"discovery_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"discovery_headers_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"extra_jwks_uris":{"required":false,"elements":{"type":"string"},"type":"set"}},{"rediscovery_lifetime":{"required":false,"default":30,"type":"number"}},{"auth_methods":{"elements":{"one_of":["password","client_credentials","authorization_code","bearer","introspection","userinfo","kong_oauth2","refresh_token","session"],"type":"string"},"required":false,"default":["password","client_credentials","authorization_code","bearer","introspection","userinfo","kong_oauth2","refresh_token","session"],"type":"array"}},{"client_id":{"required":false,"elements":{"type":"string"},"type":"array"}},{"client_secret":{"required":false,"elements":{"type":"string"},"type":"array"}},{"client_auth":{"required":false,"elements":{"one_of":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"type":"string"},"type":"array"}},{"client_jwk":{"required":false,"elements":{"required":false,"fields":[{"issuer":{"required":false,"type":"string"}},{"kty":{"required":false,"type":"string"}},{"use":{"required":false,"type":"string"}},{"key_ops":{"required":false,"elements":{"required":false,"type":"string"},"type":"array"}},{"alg":{"required":false,"type":"string"}},{"kid":{"required":false,"type":"string"}},{"x5u":{"required":false,"type":"string"}},{"x5c":{"required":false,"elements":{"required":false,"type":"string"},"type":"array"}},{"x5t":{"required":false,"type":"string"}},{"x5t#S256":{"required":false,"type":"string"}},{"k":{"required":false,"type":"string"}},{"x":{"required":false,"type":"string"}},{"y":{"required":false,"type":"string"}},{"crv":{"required":false,"type":"string"}},{"n":{"required":false,"type":"string"}},{"e":{"required":false,"type":"string"}},{"d":{"required":false,"type":"string"}},{"p":{"required":false,"type":"string"}},{"q":{"required":false,"type":"string"}},{"dp":{"required":false,"type":"string"}},{"dq":{"required":false,"type":"string"}},{"qi":{"required":false,"type":"string"}},{"oth":{"required":false,"type":"string"}},{"r":{"required":false,"type":"string"}},{"t":{"required":false,"type":"string"}}],"type":"record"},"type":"array"}},{"client_alg":{"required":false,"elements":{"one_of":["HS256","HS384","HS512","RS256","RS512","ES256","ES384","ES512","PS256","PS384","PS512","EdDSA"],"type":"string"},"type":"array"}},{"client_arg":{"required":false,"default":"client_id","type":"string"}},{"redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"login_redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"logout_redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"forbidden_redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"forbidden_error_message":{"required":false,"default":"Forbidden","type":"string"}},{"forbidden_destroy_session":{"required":false,"default":true,"type":"boolean"}},{"unauthorized_redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"unauthorized_error_message":{"required":false,"default":"Unauthorized","type":"string"}},{"unexpected_redirect_uri":{"required":false,"elements":{"type":"string"},"type":"array"}},{"response_mode":{"one_of":["query","form_post","fragment"],"required":false,"default":"query","type":"string"}},{"response_type":{"elements":{"type":"string"},"required":false,"default":["code"],"type":"array"}},{"scopes":{"elements":{"type":"string"},"required":false,"default":["openid"],"type":"array"}},{"audience":{"required":false,"elements":{"type":"string"},"type":"array"}},{"issuers_allowed":{"required":false,"elements":{"type":"string"},"type":"array"}},{"scopes_required":{"required":false,"elements":{"type":"string"},"type":"array"}},{"scopes_claim":{"elements":{"type":"string"},"required":false,"default":["scope"],"type":"array"}},{"audience_required":{"required":false,"elements":{"type":"string"},"type":"array"}},{"audience_claim":{"elements":{"type":"string"},"required":false,"default":["aud"],"type":"array"}},{"groups_required":{"required":false,"elements":{"type":"string"},"type":"array"}},{"groups_claim":{"elements":{"type":"string"},"required":false,"default":["groups"],"type":"array"}},{"roles_required":{"required":false,"elements":{"type":"string"},"type":"array"}},{"roles_claim":{"elements":{"type":"string"},"required":false,"default":["roles"],"type":"array"}},{"domains":{"required":false,"elements":{"type":"string"},"type":"array"}},{"max_age":{"type":"number","required":false}},{"authenticated_groups_claim":{"required":false,"elements":{"type":"string"},"type":"array"}},{"authorization_endpoint":{"type":"string","required":false}},{"authorization_query_args_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"authorization_query_args_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"authorization_query_args_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"authorization_cookie_name":{"required":false,"default":"authorization","type":"string"}},{"authorization_cookie_lifetime":{"required":false,"default":600,"type":"number"}},{"authorization_cookie_path":{"match_none":[{"err":"must not have empty segments","pattern":"//"}],"required":false,"starts_with":"/","default":"/","type":"string"}},{"authorization_cookie_domain":{"type":"string","required":false}},{"authorization_cookie_samesite":{"one_of":["Strict","Lax","None","off"],"required":false,"default":"off","type":"string"}},{"authorization_cookie_httponly":{"required":false,"default":true,"type":"boolean"}},{"authorization_cookie_secure":{"type":"boolean","required":false}},{"preserve_query_args":{"required":false,"default":false,"type":"boolean"}},{"token_endpoint":{"type":"string","required":false}},{"token_endpoint_auth_method":{"required":false,"one_of":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"type":"string"}},{"token_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_headers_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_headers_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_headers_replay":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_headers_prefix":{"type":"string","required":false}},{"token_headers_grants":{"required":false,"elements":{"one_of":["password","client_credentials","authorization_code","refresh_token"],"type":"string"},"type":"array"}},{"token_post_args_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_post_args_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_post_args_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_endpoint":{"type":"string","required":false}},{"introspection_endpoint_auth_method":{"required":false,"one_of":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"type":"string"}},{"introspection_hint":{"required":false,"default":"access_token","type":"string"}},{"introspection_check_active":{"required":false,"default":true,"type":"boolean"}},{"introspection_accept":{"one_of":["application/json","application/token-introspection+jwt","application/jwt"],"required":false,"default":"application/json","type":"string"}},{"introspection_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_headers_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_headers_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_post_args_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_post_args_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspection_post_args_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"introspect_jwt_tokens":{"required":false,"default":false,"type":"boolean"}},{"revocation_endpoint":{"type":"string","required":false}},{"revocation_endpoint_auth_method":{"required":false,"one_of":["client_secret_basic","client_secret_post","client_secret_jwt","private_key_jwt","none"],"type":"string"}},{"end_session_endpoint":{"type":"string","required":false}},{"userinfo_endpoint":{"type":"string","required":false}},{"userinfo_accept":{"one_of":["application/json","application/jwt"],"required":false,"default":"application/json","type":"string"}},{"userinfo_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"userinfo_headers_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"userinfo_headers_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"userinfo_query_args_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"userinfo_query_args_values":{"required":false,"elements":{"type":"string"},"type":"array"}},{"userinfo_query_args_client":{"required":false,"elements":{"type":"string"},"type":"array"}},{"token_exchange_endpoint":{"type":"string","required":false}},{"session_secret":{"type":"string","required":false}},{"session_cookie_name":{"required":false,"default":"session","type":"string"}},{"session_cookie_lifetime":{"required":false,"default":3600,"type":"number"}},{"session_cookie_idletime":{"type":"number","required":false}},{"session_cookie_renew":{"required":false,"default":600,"type":"number"}},{"session_cookie_path":{"match_none":[{"err":"must not have empty segments","pattern":"//"}],"required":false,"starts_with":"/","default":"/","type":"string"}},{"session_cookie_domain":{"type":"string","required":false}},{"session_cookie_samesite":{"one_of":["Strict","Lax","None","off"],"required":false,"default":"Lax","type":"string"}},{"session_cookie_httponly":{"required":false,"default":true,"type":"boolean"}},{"session_cookie_secure":{"type":"boolean","required":false}},{"session_cookie_maxsize":{"required":false,"default":4000,"type":"integer"}},{"session_strategy":{"one_of":["default","regenerate"],"required":false,"default":"default","type":"string"}},{"session_compressor":{"one_of":["none","zlib"],"required":false,"default":"none","type":"string"}},{"session_storage":{"one_of":["cookie","memcache","redis"],"required":false,"default":"cookie","type":"string"}},{"session_memcache_prefix":{"required":false,"default":"sessions","type":"string"}},{"session_memcache_socket":{"type":"string","required":false}},{"session_memcache_host":{"required":false,"default":"127.0.0.1","type":"string"}},{"session_memcache_port":{"between":[0,65535],"required":false,"default":11211,"type":"integer"}},{"session_redis_prefix":{"required":false,"default":"sessions","type":"string"}},{"session_redis_socket":{"type":"string","required":false}},{"session_redis_host":{"required":false,"default":"127.0.0.1","type":"string"}},{"session_redis_port":{"between":[0,65535],"required":false,"default":6379,"type":"integer"}},{"session_redis_auth":{"type":"string","required":false}},{"session_redis_connect_timeout":{"type":"integer","required":false}},{"session_redis_read_timeout":{"type":"integer","required":false}},{"session_redis_send_timeout":{"type":"integer","required":false}},{"session_redis_ssl":{"required":false,"default":false,"type":"boolean"}},{"session_redis_ssl_verify":{"required":false,"default":false,"type":"boolean"}},{"session_redis_server_name":{"type":"string","required":false}},{"session_redis_cluster_nodes":{"required":false,"elements":{"fields":[{"ip":{"required":true,"default":"127.0.0.1","type":"string"}},{"port":{"between":[0,65535],"default":6379,"type":"integer"}}],"type":"record"},"type":"array"}},{"session_redis_cluster_maxredirections":{"type":"integer","required":false}},{"reverify":{"required":false,"default":false,"type":"boolean"}},{"jwt_session_claim":{"required":false,"default":"sid","type":"string"}},{"jwt_session_cookie":{"type":"string","required":false}},{"bearer_token_param_type":{"elements":{"one_of":["header","cookie","query","body"],"type":"string"},"required":false,"default":["header","query","body"],"type":"array"}},{"bearer_token_cookie_name":{"type":"string","required":false}},{"client_credentials_param_type":{"elements":{"one_of":["header","query","body"],"type":"string"},"required":false,"default":["header","query","body"],"type":"array"}},{"password_param_type":{"elements":{"one_of":["header","query","body"],"type":"string"},"required":false,"default":["header","query","body"],"type":"array"}},{"id_token_param_type":{"elements":{"one_of":["header","query","body"],"type":"string"},"required":false,"default":["header","query","body"],"type":"array"}},{"id_token_param_name":{"type":"string","required":false}},{"refresh_token_param_type":{"elements":{"one_of":["header","query","body"],"type":"string"},"required":false,"default":["header","query","body"],"type":"array"}},{"refresh_token_param_name":{"type":"string","required":false}},{"refresh_tokens":{"required":false,"default":true,"type":"boolean"}},{"upstream_headers_claims":{"required":false,"elements":{"type":"string"},"type":"array"}},{"upstream_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"upstream_access_token_header":{"required":false,"default":"authorization:bearer","type":"string"}},{"upstream_access_token_jwk_header":{"type":"string","required":false}},{"upstream_id_token_header":{"type":"string","required":false}},{"upstream_id_token_jwk_header":{"type":"string","required":false}},{"upstream_refresh_token_header":{"type":"string","required":false}},{"upstream_user_info_header":{"type":"string","required":false}},{"upstream_user_info_jwt_header":{"type":"string","required":false}},{"upstream_introspection_header":{"type":"string","required":false}},{"upstream_introspection_jwt_header":{"type":"string","required":false}},{"upstream_session_id_header":{"type":"string","required":false}},{"downstream_headers_claims":{"required":false,"elements":{"type":"string"},"type":"array"}},{"downstream_headers_names":{"required":false,"elements":{"type":"string"},"type":"array"}},{"downstream_access_token_header":{"type":"string","required":false}},{"downstream_access_token_jwk_header":{"type":"string","required":false}},{"downstream_id_token_header":{"type":"string","required":false}},{"downstream_id_token_jwk_header":{"type":"string","required":false}},{"downstream_refresh_token_header":{"type":"string","required":false}},{"downstream_user_info_header":{"type":"string","required":false}},{"downstream_user_info_jwt_header":{"type":"string","required":false}},{"downstream_introspection_header":{"type":"string","required":false}},{"downstream_introspection_jwt_header":{"type":"string","required":false}},{"downstream_session_id_header":{"type":"string","required":false}},{"login_methods":{"elements":{"one_of":["password","client_credentials","authorization_code","bearer","introspection","userinfo","kong_oauth2","refresh_token","session"],"type":"string"},"required":false,"default":["authorization_code"],"type":"array"}},{"login_action":{"one_of":["upstream","response","redirect"],"required":false,"default":"upstream","type":"string"}},{"login_tokens":{"elements":{"one_of":["id_token","access_token","refresh_token","tokens","introspection"],"type":"string"},"required":false,"default":["id_token"],"type":"array"}},{"login_redirect_mode":{"one_of":["query","fragment"],"required":false,"default":"fragment","type":"string"}},{"logout_query_arg":{"type":"string","required":false}},{"logout_post_arg":{"type":"string","required":false}},{"logout_uri_suffix":{"type":"string","required":false}},{"logout_methods":{"elements":{"one_of":["POST","GET","DELETE"],"type":"string"},"required":false,"default":["POST","DELETE"],"type":"array"}},{"logout_revoke":{"required":false,"default":false,"type":"boolean"}},{"logout_revoke_access_token":{"required":false,"default":true,"type":"boolean"}},{"logout_revoke_refresh_token":{"required":false,"default":true,"type":"boolean"}},{"consumer_claim":{"required":false,"elements":{"type":"string"},"type":"array"}},{"consumer_by":{"elements":{"one_of":["id","username","custom_id"],"type":"string"},"required":false,"default":["username","custom_id"],"type":"array"}},{"consumer_optional":{"required":false,"default":false,"type":"boolean"}},{"credential_claim":{"elements":{"type":"string"},"required":false,"default":["sub"],"type":"array"}},{"anonymous":{"legacy":true,"required":false,"uuid":true,"type":"string"}},{"run_on_preflight":{"required":false,"default":true,"type":"boolean"}},{"leeway":{"required":false,"default":0,"type":"number"}},{"verify_parameters":{"required":false,"default":false,"type":"boolean"}},{"verify_nonce":{"required":false,"default":true,"type":"boolean"}},{"verify_claims":{"required":false,"default":true,"type":"boolean"}},{"verify_signature":{"required":false,"default":true,"type":"boolean"}},{"ignore_signature":{"elements":{"one_of":["password","client_credentials","authorization_code","refresh_token","session","introspection","userinfo"],"type":"string"},"required":false,"default":[],"type":"array"}},{"enable_hs_signatures":{"required":false,"default":false,"type":"boolean"}},{"disable_session":{"required":false,"elements":{"one_of":["password","client_credentials","authorization_code","bearer","introspection","userinfo","kong_oauth2","refresh_token","session"],"type":"string"},"type":"array"}},{"cache_ttl":{"required":false,"default":3600,"type":"number"}},{"cache_ttl_max":{"type":"number","required":false}},{"cache_ttl_min":{"type":"number","required":false}},{"cache_ttl_neg":{"type":"number","required":false}},{"cache_ttl_resurrect":{"type":"number","required":false}},{"cache_tokens":{"required":false,"default":true,"type":"boolean"}},{"cache_tokens_salt":{"required":false,"auto":true,"type":"string"}},{"cache_introspection":{"required":false,"default":true,"type":"boolean"}},{"cache_token_exchange":{"required":false,"default":true,"type":"boolean"}},{"cache_user_info":{"required":false,"default":true,"type":"boolean"}},{"search_user_info":{"required":false,"default":false,"type":"boolean"}},{"hide_credentials":{"required":false,"default":false,"type":"boolean"}},{"http_version":{"required":false,"default":1.1,"type":"number"}},{"http_proxy":{"type":"string","required":false}},{"http_proxy_authorization":{"type":"string","required":false}},{"https_proxy":{"type":"string","required":false}},{"https_proxy_authorization":{"type":"string","required":false}},{"no_proxy":{"type":"string","required":false}},{"keepalive":{"required":false,"default":true,"type":"boolean"}},{"ssl_verify":{"required":false,"default":false,"type":"boolean"}},{"timeout":{"required":false,"default":10000,"type":"number"}},{"display_errors":{"required":false,"default":false,"type":"boolean"}},{"by_username_ignore_case":{"required":false,"default":false,"type":"boolean"}}],"required":true,"type":"record"}}]}